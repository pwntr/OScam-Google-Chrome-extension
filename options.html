<html>
<head><title>OScam Chrome Extension Options</title></head>
<script type="text/javascript">

// Saves options to localStorage.
function save_options() {
  var u = document.getElementById("xmlurl").value;
  localStorage["xmlurl"] = u;

  var i = document.getElementById("pollInterval").value;
  localStorage["pollinterval"] = i;

	var username = document.getElementById("username").value;
  localStorage["username"] = username;
	
	var password = document.getElementById("password").value;
  localStorage["password"] = password;
  
  var beeponerror = document.getElementById("beeponerror").checked;
  localStorage["beeponerror"] = beeponerror;
	alert("Settings saved");
}

// Restores options from localStorage.
function restore_options() {
  var u = localStorage["xmlurl"];
  if (!u) {
    u = "http://192.168.1.3:16001";
  }
  document.getElementById("xmlurl").value = u;
  
  var i = localStorage["pollinterval"];
   if (!i) {
    i = 10;
  }
  document.getElementById("pollInterval").value = i;
  
  var username = localStorage["username"];
  if (!username) {
    username = "";
  }
  document.getElementById("username").value = username;

  var password = localStorage["password"];
  if (!password) {
    password = "";
  }
  document.getElementById("password").value = password;

  var beeponerror = localStorage["beeponerror"];
  if (!beeponerror) {
    beeponerror = false;
  }
  document.getElementById("beeponerror").checked = beeponerror;
}

</script>

<body onload="restore_options()">
<h1><script type="text/javascript"> document.write( chrome.i18n.getMessage("extName")+" " + chrome.i18n.getMessage("settings") );</script></h1>
<hr>

<table border=0>
	<tr>
		<th align='left'>OSCam Server</th>
		<td><input type="text" id="xmlurl" style="width:200px"></td>
	</tr>
	<tr>
		<th align='left'><script type="text/javascript"> document.write( chrome.i18n.getMessage("login") );</script></th>
		<td><input disabled type="text" id="username" style="width:200px"></td>
	</tr>	
	<tr>
		<th align='left'><script type="text/javascript"> document.write( chrome.i18n.getMessage("password") );</script></th>
		<td><input disabled type="text" id="password" style="width:200px"></td>
	</tr>	
	<tr>
		<th align='left'><script type="text/javascript"> document.write( chrome.i18n.getMessage("updateinterval") );</script></th>
		<td>
			<select id="pollInterval">
				<option>10</option>
				<option>30</option>
				<option>60</option>
				<option>120</option>
			</select>
		</td>
	</tr>
	<tr>
		<th align='left'><script type="text/javascript"> document.write( chrome.i18n.getMessage("beeponerror") );</script></th>
		<td><input type="checkbox" id="beeponerror"></td>
	</tr>	
</table>
<button onclick="save_options()">Save</button>
</body>
</html>